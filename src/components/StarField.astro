---
// StarField.astro
// CSS-based animated star field with multiple layers
// Creates twinkling stars at various sizes and depths
---

<div class="star-field">
  <div class="stars stars-small"></div>
  <div class="stars stars-medium"></div>
  <div class="stars stars-large"></div>
</div>

<style>
  .star-field {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
  }

  .stars {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  /* Small stars - numerous, subtle */
  .stars-small {
    background-image:
      radial-gradient(1px 1px at 10% 20%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 15% 45%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 25% 70%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 35% 15%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 42% 85%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 55% 30%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 63% 60%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 72% 25%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 78% 80%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 85% 50%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 92% 10%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 95% 75%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 8% 55%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 18% 90%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 28% 35%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 48% 5%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 58% 65%, rgba(255, 255, 255, 0.6), transparent),
      radial-gradient(1px 1px at 68% 95%, rgba(255, 255, 255, 0.8), transparent),
      radial-gradient(1px 1px at 88% 40%, rgba(255, 255, 255, 0.7), transparent),
      radial-gradient(1px 1px at 98% 68%, rgba(255, 255, 255, 0.6), transparent);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    animation: twinkle 3s ease-in-out infinite;
  }

  /* Medium stars - moderate amount, more visible */
  .stars-medium {
    background-image:
      radial-gradient(2px 2px at 12% 25%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 22% 55%, rgba(240, 240, 255, 0.85), transparent),
      radial-gradient(2px 2px at 38% 8%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 46% 75%, rgba(255, 250, 205, 0.85), transparent),
      radial-gradient(2px 2px at 56% 40%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 64% 12%, rgba(240, 240, 255, 0.85), transparent),
      radial-gradient(2px 2px at 74% 68%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 82% 35%, rgba(255, 250, 205, 0.85), transparent),
      radial-gradient(2px 2px at 90% 82%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 5% 48%, rgba(240, 240, 255, 0.85), transparent),
      radial-gradient(2px 2px at 33% 92%, rgba(255, 255, 255, 0.9), transparent),
      radial-gradient(2px 2px at 70% 50%, rgba(255, 250, 205, 0.85), transparent);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    animation: twinkle 4s ease-in-out infinite 0.5s;
  }

  /* Large stars - few, bright, prominent */
  .stars-large {
    background-image:
      radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.8) 30%, transparent 70%),
      radial-gradient(circle, rgba(255, 250, 205, 1) 0%, rgba(255, 250, 205, 0.8) 30%, transparent 70%),
      radial-gradient(circle, rgba(240, 240, 255, 1) 0%, rgba(240, 240, 255, 0.8) 30%, transparent 70%),
      radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.8) 30%, transparent 70%),
      radial-gradient(circle, rgba(255, 250, 205, 1) 0%, rgba(255, 250, 205, 0.8) 30%, transparent 70%);
    background-size: 3px 3px, 3px 3px, 3px 3px, 3px 3px, 3px 3px;
    background-position: 20% 18%, 45% 62%, 68% 28%, 85% 75%, 8% 88%;
    background-repeat: no-repeat;
    animation: twinkleBright 2.5s ease-in-out infinite;
  }

  /* Twinkling animation for small and medium stars */
  @keyframes twinkle {
    0%, 100% {
      opacity: 0.6;
    }
    50% {
      opacity: 1;
    }
  }

  /* Brighter twinkling for large stars */
  @keyframes twinkleBright {
    0%, 100% {
      opacity: 0.8;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.1);
    }
  }

  /* Performance optimization - use GPU acceleration */
  .stars {
    will-change: opacity, transform;
    backface-visibility: hidden;
  }

  /* Reduce motion for users who prefer less animation */
  @media (prefers-reduced-motion: reduce) {
    .stars {
      animation: none;
      opacity: 0.8;
    }
  }
</style>
